# yaml-language-server: $schema=./values.schema.json
image:
  pullPolicy: IfNotPresent
  repository: docker.io/webpsh/webps
  tag: latest@sha256:0b935c0f4d65c4b9e89a738dfa54b83e8f5aa665767a0b6a3355aa384e27488d
persistence:
  storagecache:
    enabled: true
    mountPath: /opt/exhaust
  storagepics:
    enabled: true
    mountPath: /opt/pics
    readOnly: true

securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsGroup: 0
    runAsUser: 0
service:
  main:
    ports:
      main:
        port: 3333
        protocol: tcp
        targetPort: 3333
workload:
  main:
    podSpec:
      containers:
        main:
          env:
            ALLOWED_TYPES: jpg,png,jpeg,bmp,gif
            ENABLE_AVIF: "false"
            QUALITY: "80"
